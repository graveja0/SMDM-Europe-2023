{
  "hash": "f3eab9b9f54ce1114b2b7df67b64450a",
  "result": {
    "markdown": "---\ntitle: \"Cause-Deleted Life Tables\"\nauthor: John Graves\ndate: \"2022-12-19\"\neditor_options: \n  chunk_output_type: console\nexecute:\n  echo: false\n  message: false\n  warning: false  \n  code-fold: true\n  cache: true\nreference-location: margin\nself-contained: true\n---\n\n::: {.cell hash='cause-delented-life-tables_cache/html/setup_449d99bc8f57f81b3d1f4f934f1f7331'}\n\n:::\n\n\n# All-Cause Life Table Data\n\n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-1_e25876d86cb9ce60b593b7c37216b97f'}\n\n:::\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-2_10f62a1336f07a3519c7d2cc49111160'}\n\n:::\n\n\n# Cause-Specific Deaths\n\nFirst, we use the [CDC wonder engine](https://wonder.cdc.gov/ucd-icd10.html) to extract death by specific cause. This is extracted and stored in `data/cardiovascular-deaths.txt`.\n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-3_e664e0ee45983fb729717d9581dd6c27'}\n\n:::\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-4_aeb29cd1fa65e6ec89e33e5f816f8504'}\n::: {.cell-output-display}\n![Cardiovascular log(mortality) rates by age](cause-delented-life-tables_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nNote that the death rate per 100k population is not calculated above age 85 (but general life tables go to 100+), so we need to predict it. Luckily the (log) death rate is fairly linear:\n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-5_60c70b4db55ed0e5abf14f30373a973b'}\n::: {.cell-output-display}\n![](cause-delented-life-tables_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nLet's just fit a basic generalized additive model (GAM) in age. \n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-6_a631869b48cb72240bbca9bad1737ef4'}\n\n:::\n\n\nLet's see how our imputed mortality rate (red) compares and extrapolates:\n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-7_f4494553f8d607fd009edf798c50478a'}\n::: {.cell-output-display}\n![log mortality rate by age, with imputed values in red](cause-delented-life-tables_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nNow we can construct cause-deleted life tables (per 100k) with sufficient information to fit a mortality model. \n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-8_a920d77fff1935b23380cdcc5f0f1bba'}\n\n:::\n\n\n\nWe now fit the mortalitiy models.\n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-9_d0b39b14060b8bb055924a72f4393a1c'}\n::: {.cell-output-display}\n![](cause-delented-life-tables_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-10_b28fc60202bc93dc27a6826ed0f8b4b1'}\n::: {.cell-output-display}\n![](cause-delented-life-tables_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n# Historical Mortality\n\nLet's compare historical mortality rates in the US to the UK. \n\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-11_12858d53862c8fb78120b53eb2f53a16'}\n\n:::\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-12_5201fd601602d06080bda746f2e8db88'}\n\n:::\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-13_3a0dba279747860cf8322f26bf1bacdd'}\n\n:::\n\n::: {.cell hash='cause-delented-life-tables_cache/html/unnamed-chunk-14_db6e76854c5cbeda9adc75bbe8ff7a5d'}\n::: {.cell-output-display}\n![](cause-delented-life-tables_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}